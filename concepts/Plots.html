<div id="right-column">
<div aria-label="breadcrumbs navigation" role="navigation">
<ol class="breadcrumb">
<li><a href="../index.html">User Manual</a></li>
<li><a href="index.html">Concepts</a></li>
<li>Plots</li>
</ol>
</div>
<div class="document clearer body">
<a class="reference external image-reference" href="https://www.tradingview.com/pine-script-docs/en/v5/Introduction.html"><div align="right" class="align-right"><img alt="Pine Script™ logo" height="100" src="../_images/Pine_Script_logo.svg" width="100"/></div>
</a>
<div class="section" id="plots">
<span id="pageplots"></span><h1>Plots<a class="headerlink" href="#plots" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#plot-parameters" id="id2">`plot()` parameters</a></li>
<li><a class="reference internal" href="#plotting-conditionally" id="id3">Plotting conditionally</a><ul>
<li><a class="reference internal" href="#value-control" id="id4">Value control</a></li>
<li><a class="reference internal" href="#color-control" id="id5">Color control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#levels" id="id6">Levels</a></li>
<li><a class="reference internal" href="#offsets" id="id7">Offsets</a></li>
<li><a class="reference internal" href="#plot-count-limit" id="id8">Plot count limit</a></li>
<li><a class="reference internal" href="#scale" id="id9">Scale</a><ul>
<li><a class="reference internal" href="#merging-two-indicators" id="id10">Merging two indicators</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
function is the most frequently used function used to display information calculated using Pine scripts.
It is versatile and can plot different styles of lines, histograms, areas, columns (like volume columns), fills, circles or crosses.</p>
<p>The use of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
to create fills is explained in the page on <a class="reference internal" href="Fills.html#pagefills"><span class="std std-ref">Fills</span></a>.</p>
<p>This script showcases a few different uses of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
in an overlay script:</p>
<img alt="../_images/Plots-Introduction-01.png" src="../_images/Plots-Introduction-01.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"`plot()`"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">high</span><span class="p">,</span><span class="w"> </span><span class="s2">"Blue `high` line"</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">math.avg</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="no">open</span><span class="p">),</span><span class="w"> </span><span class="s2">"Crosses in body center"</span><span class="p">,</span><span class="w"> </span><span class="no">close</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="no">open</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">color.lime</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.purple</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_cross</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">math.min</span><span class="p">(</span><span class="no">open</span><span class="p">,</span><span class="w"> </span><span class="no">close</span><span class="p">),</span><span class="w"> </span><span class="s2">"Navy step line on body low point"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.navy</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_stepline</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">low</span><span class="p">,</span><span class="w"> </span><span class="s2">"Gray dot on `low`"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.gray</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_circles</span><span class="p">)</span><span class="w"></span>

<span class="k">color </span><span class="nx">VIOLET</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="l">#AA00FF</span><span class="w"></span>
<span class="k">color </span><span class="nx">GOLD</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="l">#CCCC00</span><span class="w"></span>
<span class="nx">ma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.alma</span><span class="p">(</span><span class="no">hl2</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="mf">.85</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"></span>
<span class="k">var </span><span class="nx">almaColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.silver</span><span class="w"></span>
<span class="nx">almaColor</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ma</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">ma</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">GOLD</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">ma</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">ma</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w">  </span><span class="o">?</span><span class="w"> </span><span class="nx">VIOLET</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">almaColor</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">ma</span><span class="p">,</span><span class="w"> </span><span class="s2">"Two-color ALMA"</span><span class="p">,</span><span class="w"> </span><span class="nx">almaColor</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>The first <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call plots a 1-pixel blue line across the bar highs.</li>
<li>The second plots crosses at the mid-point of bodies. The crosses are colored lime when the bar is up and purple when it is down.
The argument used for <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> is <code class="docutils literal notranslate"><span class="pre">6</span></code> but it is not a pixel value; just a relative size.</li>
<li>The third call plots a 3-pixel wide step line following the low point of bodies.</li>
<li>The fourth call plot a gray circle at the bars’ <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_low">low</a>.</li>
<li>The last plot requires some preparation. We first define our bull/bear colors,
calculate an <a class="reference external" href="https://www.tradingview.com/u/?solution=43000594683">Arnaud Legoux Moving Average</a>,
then make our color calculations. We initialize our color variable on bar zero only, using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#op_var">var</a>.
We initialize it to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_color{dot}silver">color.silver</a>,
so on the dataset’s first bars, until one of our conditions causes the color to change, the line will be silver.
The conditions that change the color of the line require it to be higher/lower than its value two bars ago.
This makes for less noisy color transitions than if we merely looked for a higher/lower value than the previous one.</li>
</ul>
<p>This script shows other uses of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> in a pane:</p>
<img alt="../_images/Plots-Introduction-02.png" src="../_images/Plots-Introduction-02.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"Volume change"</span><span class="p">,</span><span class="w"> </span><span class="nx">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">format.volume</span><span class="p">)</span><span class="w"></span>

<span class="k">color </span><span class="nx">GREEN</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="l">#008000</span><span class="w"></span>
<span class="k">color </span><span class="nx">GREEN_LIGHT</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="nx">GREEN</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="k">color </span><span class="nx">GREEN_LIGHTER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="nx">GREEN</span><span class="p">,</span><span class="w"> </span><span class="mi">85</span><span class="p">)</span><span class="w"></span>
<span class="k">color </span><span class="nx">PINK</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="l">#FF0080</span><span class="w"></span>
<span class="k">color </span><span class="nx">PINK_LIGHT</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="nx">PINK</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="k">color </span><span class="nx">PINK_LIGHTER</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="nx">PINK</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">)</span><span class="w"></span>

<span class="k">bool </span><span class="w"> </span><span class="nx">barUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rising</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="k">bool </span><span class="w"> </span><span class="nx">barDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.falling</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="k">float </span><span class="nx">volumeChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.change</span><span class="p">(</span><span class="no">volume</span><span class="p">)</span><span class="w"></span>

<span class="nx">volumeColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">barUp</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">GREEN_LIGHTER</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">barDn</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">PINK_LIGHTER</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.gray</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">volume</span><span class="p">,</span><span class="w"> </span><span class="s2">"Volume columns"</span><span class="p">,</span><span class="w"> </span><span class="nx">volumeColor</span><span class="p">,</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">plot.style_columns</span><span class="p">)</span><span class="w"></span>

<span class="nx">volumeChangeColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">barUp</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">volumeChange</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">GREEN</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">GREEN_LIGHT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">volumeChange</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">PINK</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">PINK_LIGHT</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">volumeChange</span><span class="p">,</span><span class="w"> </span><span class="s2">"Volume change columns"</span><span class="p">,</span><span class="w"> </span><span class="nx">volumeChangeColor</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_histogram</span><span class="p">)</span><span class="w"></span>

<span class="ni">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"Zero line"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.gray</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>We are plotting normal <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_volume">volume</a>
values as wide columns above the zero line
(see the <code class="docutils literal notranslate"><span class="pre">style</span> <span class="pre">=</span> <span class="pre">plot.style_columns</span></code> in our <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call).</li>
<li>Before plotting the columns we calculate our <code class="docutils literal notranslate"><span class="pre">volumeColor</span></code> by using the values of the <code class="docutils literal notranslate"><span class="pre">barUp</span></code> and <code class="docutils literal notranslate"><span class="pre">barDn</span></code> boolean variables.
They become respectively <code class="docutils literal notranslate"><span class="pre">true</span></code> when the current bar’s <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_close">close</a>
is higher/lower than the previous one. Note that the “Volume” built-in does not use the same condition; it identifies an up bar with <code class="docutils literal notranslate"><span class="pre">close</span> <span class="pre">&gt;</span> <span class="pre">open</span></code>.
We use the <code class="docutils literal notranslate"><span class="pre">GREEN_LIGHTER</span></code> and <code class="docutils literal notranslate"><span class="pre">PINK_LIGHTER</span></code> colors for the volume columns.</li>
<li>Because the first plot plots columns, we do not use the <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> parameter, as it has no effect on columns.</li>
<li>Our script’s second plot is the <strong>change</strong> in volume, which we have calculated earlier using <code class="docutils literal notranslate"><span class="pre">ta.change(volume)</span></code>.
This value is plotted as a histogram, for which the <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> parameter controls the width of the column.
We make this width <code class="docutils literal notranslate"><span class="pre">12</span></code> so that histogram elements are thinner than the columns of the first plot.
Positive/negative <code class="docutils literal notranslate"><span class="pre">volumeChange</span></code> values plot above/below the zero line; no manipulation is required to achieve this effect.</li>
<li>Before plotting the histogram of <code class="docutils literal notranslate"><span class="pre">volumeChange</span></code> values, we calculate its color value, which can be one of four different colors.
We use the bright <code class="docutils literal notranslate"><span class="pre">GREEN</span></code> or <code class="docutils literal notranslate"><span class="pre">PINK</span></code> colors when the bar is up/down AND the volume has increased since the last bar (<code class="docutils literal notranslate"><span class="pre">volumeChange</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>).
Because <code class="docutils literal notranslate"><span class="pre">volumeChange</span></code> is positive in this case, the histogram’s element will be plotted above the zero line.
We use the bright <code class="docutils literal notranslate"><span class="pre">GREEN_LIGHT</span></code> or <code class="docutils literal notranslate"><span class="pre">PINK_LIGHT</span></code> colors when the bar is up/down AND the volume has NOT increased since the last bar.
Because <code class="docutils literal notranslate"><span class="pre">volumeChange</span></code> is negative in this case, the histogram’s element will be plotted below the zero line.</li>
<li>Finally, we plot a zero line. We could just as well have used <code class="docutils literal notranslate"><span class="pre">hline(0)</span></code> there.</li>
<li>We use <code class="docutils literal notranslate"><span class="pre">format</span> <span class="pre">=</span> <span class="pre">format.volume</span></code> in our <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator">indicator()</a> call
so that large values displayed for this script are abbreviated like those of the built-in “Volume” indicator.</li>
</ul>
<p><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
calls must always be placed in a line’s first position, which entails they are always in the script’s global scope.
They can’t be placed in user-defined functions or structures like <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#op_if">if</a>,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#op_for">for</a>, etc.
Calls to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> <strong>can</strong>, however,
be designed to plot conditionally in two ways, which we cover in the <span class="xref std std-ref">Conditional plots</span>
section of this page.</p>
<p>A script can only plot in its own visual space, whether it is in a pane or on the chart as an overlay.
Scripts running in a pane can only <a class="reference internal" href="Bar_coloring.html#pagebarcoloring"><span class="std std-ref">color bars</span></a> in the chart area.</p>
</div>
<div class="section" id="plot-parameters">
<h2><a class="toc-backref" href="#id2">`plot()` parameters</a><a class="headerlink" href="#plot-parameters" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> function has the following signature:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>plot(series, title, color, linewidth, style, trackprice, histbase, offset, join, editable, show_last, display) → plot
</pre></div>
</div>
<p>The parameters of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> are:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">series</span></code></dt>
<dd>It is the only mandatory parameter. Its argument must be of “series int/float” type.
Note that because the auto-casting rules in Pine Script™ convert in the int 🠆 float 🠆 bool direction,
a “bool” type variable cannot be used as is; it must be converted to an “int” or a “float” for use as an argument.
For example, if <code class="docutils literal notranslate"><span class="pre">newDay</span></code> is of “bool” type,
then <code class="docutils literal notranslate"><span class="pre">newDay</span> <span class="pre">?</span> <span class="pre">1</span> <span class="pre">:</span> <span class="pre">0</span></code> can be used to plot 1 when the variable is <code class="docutils literal notranslate"><span class="pre">true</span></code>, and zero when it is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">title</span></code></dt>
<dd><p class="first">Requires a “const string” argument, so it must be known at compile time.
The string appears:</p>
<ul class="last simple">
<li>In the script’s scale when the “Chart settings/Scales/Indicator Name Label” field is checked.</li>
<li>In the Data Window.</li>
<li>In the “Settings/Style” tab.</li>
<li>In the dropdown of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_input{dot}source">input.source()</a> fields.</li>
<li>In the “Condition” field of the “Create Alert” dialog box, when the script is selected.</li>
<li>As the column header when exporting chart data to a CSV file.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">color</span></code></dt>
<dd>Accepts “series color”, so can be calculated on the fly, bar by bar.
Plotting with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a>
as the color, or any color with a transparency of 100, is one way to hide plots when they are not needed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linewidth</span></code></dt>
<dd>Is the plotted element’s size, but it does not apply to all styles. When a line is plotted, the unit is pixels.
It has no impact when <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_columns">plot.style_columns</a> is used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">style</span></code></dt>
<dd><p class="first">The available arguments are:</p>
<ul class="last simple">
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_line">plot.style_line</a> (the default):
It plots a continous line using the <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> argument in pixels for its width.
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values will not plot as a line,
but they will be bridged when a value that is not <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> comes in.
Non-<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values are only bridged
if they are visible on the chart.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_linebr">plot.style_linebr</a>:
Allows the plotting of discontinuous lines by not plotting on <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a>  values,
and not joining gaps, i.e., bridging over <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_stepline">plot.style_stepline</a>:
Plots using a staircase effect. Transitions between changes in values are done using a vertical line drawn in middle of bars,
as opposed to a point-to-point diagonal joining the midpoints of bars. Can also be used to achieve an effect similar to that of
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_linebr">plot.style_linebr</a>,
but only if care is taken to plot no color on <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_area">plot.style_area</a>:
plots a line of <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> width, filling the area between the line and the <code class="docutils literal notranslate"><span class="pre">histbase</span></code>.
The <code class="docutils literal notranslate"><span class="pre">color</span></code> argument is used for both the line and the fill. You can make the line a different color
by using another <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call.
Positive values are plotted above the <code class="docutils literal notranslate"><span class="pre">histbase</span></code>, negative values below it.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_area">plot.style_areabr</a>:
This is similar to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_area">plot.style_area</a>
but it doesn’t bridge over <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values.
Another difference is how the indicator’s scale is calculated.
Only the plotted values serve in the calculation of the <em>y</em> range of the script’s visual space.
If only high values situated far away from the <code class="docutils literal notranslate"><span class="pre">histbase</span></code> are plotted, for example, those values will be used to calculate
the <em>y</em> scale of the script’s visual space.
Positive values are plotted above the <code class="docutils literal notranslate"><span class="pre">histbase</span></code>, negative values below it.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_columns">plot.style_columns</a>:
Plots columns similar to those of the “Volume” built-in indicator. The <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> value does <strong>not</strong> affect the width of the columns.
Positive values are plotted above the <code class="docutils literal notranslate"><span class="pre">histbase</span></code>, negative values below it.
Always includes the value of <code class="docutils literal notranslate"><span class="pre">histbase</span></code> in the <em>y</em> scale of the script’s visual space.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_histogram">plot.style_histogram</a>:
Plots columns similar to those of the “Volume” built-in indicator, except that the <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> value is used to determine the width of the histogram’s bars in pixels.
Note that since <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> requires an “input int” value, the width of the histogram’s bars cannot vary bar to bar.
Positive values are plotted above the <code class="docutils literal notranslate"><span class="pre">histbase</span></code>, negative values below it.
Always includes the value of <code class="docutils literal notranslate"><span class="pre">histbase</span></code> in the <em>y</em> scale of the script’s visual space.</li>
<li><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_circles">plot.style_circles</a> and
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_cross">plot.style_cross</a>:
These plot a shape that is not joined across bars unless <code class="docutils literal notranslate"><span class="pre">join</span> <span class="pre">=</span> <span class="pre">true</span></code> is also used.
For these styles, the <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> argument becomes a relative sizing measure — its units are not pixels.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trackprice</span></code></dt>
<dd>The default value of this is <code class="docutils literal notranslate"><span class="pre">false</span></code>. When it is <code class="docutils literal notranslate"><span class="pre">true</span></code>, a dotted line made up of small squares will be plotted
the full width of the script’s visual space. It is often used in conjuction with <code class="docutils literal notranslate"><span class="pre">show_last</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">offset</span> <span class="pre">=</span> <span class="pre">-99999</span></code>
to hide the actual plot and only leave the residual dotted line.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">histbase</span></code></dt>
<dd>It is the reference point used with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_area">plot.style_area</a>,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_columns">plot.style_columns</a> and
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_histogram">plot.style_histogram</a>.
It determines the level separating positive and negative values of the <code class="docutils literal notranslate"><span class="pre">series</span></code> argument.
It cannot be calculated dynamically, as an “input int/float” is required.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offset</span></code></dt>
<dd>This allows shifting the plot in the past/future using a negative/positive offset in bars.
The value cannot change during the script’s execution.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">join</span></code></dt>
<dd>This only affect styles <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_circles">plot.style_circles</a> or
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_cross">plot.style_cross</a>.
When <code class="docutils literal notranslate"><span class="pre">true</span></code>, the shapes are joined by a one-pixel line.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">editable</span></code></dt>
<dd>This boolean parameter controls whether or not the plot’s properties can be edited in the “Settings/Style” tab.
Its default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show_last</span></code></dt>
<dd>Allows control over how many of the last bars the plotted values are visible.
An “input int” argument is required, so it cannot be calculated dynamically.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">display</span></code></dt>
<dd><p class="first">The default is <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_display{dot}all">display.all</a>.
When it is set to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_display{dot}none">display.none</a>,
plotted values will not affect the scale of the script’s visual space.
The plot will be invisible and will not appear in indicator values or the Data Window.
It can be useful in plots destined for use as external inputs for other scripts,
or for plots used with the <code class="docutils literal notranslate"><span class="pre">{{plot("[plot_title]")}}</span></code> placeholder in
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls, e.g.:</p>
<div class="last highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"RSI"</span><span class="p">,</span><span class="w"> </span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">display.none</span><span class="p">)</span><span class="w"></span>
<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"xUp alert"</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'RSI is bullish at: {{plot("RSI")}}'</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="plotting-conditionally">
<span id="pageplots-plottingconditionally"></span><h2><a class="toc-backref" href="#id3">Plotting conditionally</a><a class="headerlink" href="#plotting-conditionally" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> calls
cannot be used in conditional structures such as <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#op_if">if</a>,
but they can be controlled by varying their plotted values, or their color. When no plot is required,
you can either plot <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values,
or plot values using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> color
or any color with 100 transparency (which also makes it invisible).</p>
<div class="section" id="value-control">
<h3><a class="toc-backref" href="#id4">Value control</a><a class="headerlink" href="#value-control" title="Permalink to this headline">¶</a></h3>
<p>One way to control the display of plots is to plot <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values
when no plot is needed. Sometimes, values returned by functions such as
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_request{dot}security">request.security()</a>
will return <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values, when <code class="docutils literal notranslate"><span class="pre">gaps</span> <span class="pre">=</span> <span class="pre">barmerge.gaps_on</span></code> is used, for example.
In both these cases it is sometimes useful to plot discontinuous lines.
This script shows a few ways to do it:</p>
<img alt="../_images/Plots-PlottingConditionally-01.png" src="../_images/Plots-PlottingConditionally-01.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"Discontinuous plots"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="k">bool </span><span class="nx">plotValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">bar_index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="no">high</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.fuchsia</span><span class="p">,</span><span class="w"> </span><span class="nx">linewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">plot.style_linebr</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="no">high</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">math.max</span><span class="p">(</span><span class="no">open</span><span class="p">,</span><span class="w"> </span><span class="no">close</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.navy</span><span class="p">,</span><span class="w"> </span><span class="nx">linewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">plot.style_cross</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">math.min</span><span class="p">(</span><span class="no">open</span><span class="p">,</span><span class="w"> </span><span class="no">close</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.navy</span><span class="p">,</span><span class="w"> </span><span class="nx">linewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">plot.style_circles</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="no">low</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="nx">plotValues</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">color.green</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="nx">linewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">plot.style_stepline</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>We define the condition determining when we plot using <code class="docutils literal notranslate"><span class="pre">bar_index</span> <span class="pre">%</span> <span class="pre">3</span> <span class="pre">==</span> <span class="pre">0</span></code>,
which becomes <code class="docutils literal notranslate"><span class="pre">true</span></code> when the remainder of the division of the bar index by 3 is zero. This will happen every three bars.</li>
<li>In the first plot, we use <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_linebr">plot.style_linebr</a>,
which plots the fuchsia line on highs. It is centered on the bar’s horizontal midpoint.</li>
<li>The second plot shows the result of plotting the same values, but without using special care to break the line.
What’s happening here is that the thin blue line of the plain <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call
is automatically bridged over <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values (or <em>gaps</em>), so the plot does not interrupt.</li>
<li>We then plot navy blue crosses and circles on the body tops and bottoms.
The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_circles">plot.style_circles</a> and
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_cross">plot.style_cross</a>
style are a simple way to plot discontinuous values, e.g., for stop or take profit levels, or support &amp; resistance levels.</li>
<li>The last plot in green on the bar lows is done using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_stepline">plot.style_stepline</a>.
Note how its segments are wider than the fuchsia line segments plotted with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_linebr">plot.style_linebr</a>.
Also note how on the last bar, it only plots halfway until the next bar comes in.</li>
<li>The plotting order of each plot is controlled by their order of appearance in the script.
See</li>
</ul>
<p>This script shows how you can restrict plotting to bars after a user-defined date.
We use the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_input{dot}time">input.time()</a> function
to create an input widget allowing script users to select a date and time, using Jan 1st 2021 as its default value:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="nx">startInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">input.time</span><span class="p">(</span><span class="ni">timestamp</span><span class="p">(</span><span class="s2">"2021-01-01"</span><span class="p">))</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">time</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">startInput</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="no">close</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="color-control">
<h3><a class="toc-backref" href="#id5">Color control</a><a class="headerlink" href="#color-control" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="Colors.html#pagecolors-conditionalcoloring"><span class="std std-ref">Conditional coloring</span></a> section of the page on colors discusses color control for plots.
We’ll look here at a few examples.</p>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">color</span></code> parameter in <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> can be a constant,
such as one of the built-in <a class="reference internal" href="Colors.html#pagecolors-constantcolors"><span class="std std-ref">constant colors</span></a> or a <a class="reference internal" href="../language/Type_system.html#pagetypesystem-color"><span class="std std-ref">color literal</span></a>.
In Pine Script™, the form-type of such colors is called <strong>“const color”</strong> (see the <a class="reference internal" href="../language/Type_system.html#pagetypesystem"><span class="std std-ref">Type system</span></a> page).
They are known at compile time:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.gray</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>The color of a plot can also be determined using information that is only known when the script begins execution on the first historical bar of a chart
(bar zero, i.e., <code class="docutils literal notranslate"><span class="pre">bar_index</span> <span class="pre">==</span> <span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">barstate.isfirst</span> <span class="pre">==</span> <span class="pre">true</span></code>), as will be the case when the information needed to determine a color depends on the chart the script is running on.
Here, we calculate a plot color using the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo{dot}type">syminfo.type</a> built-in variable,
which returns the type of the chart’s symbol. The form-type of <code class="docutils literal notranslate"><span class="pre">plotColor</span></code> in this case will be <strong>“simple color”</strong>:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="nx">plotColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">switch </span><span class="ni">syminfo.type</span><span class="w"></span>
<span class="w">    </span><span class="s2">"stock"</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.purple</span><span class="w"></span>
<span class="w">    </span><span class="s2">"futures"</span><span class="w">   </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.red</span><span class="w"></span>
<span class="w">    </span><span class="s2">"index"</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.gray</span><span class="w"></span>
<span class="w">    </span><span class="s2">"forex"</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.fuchsia</span><span class="w"></span>
<span class="w">    </span><span class="s2">"crypto"</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.lime</span><span class="w"></span>
<span class="w">    </span><span class="s2">"fund"</span><span class="w">      </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.orange</span><span class="w"></span>
<span class="w">    </span><span class="s2">"dr"</span><span class="w">        </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.aqua</span><span class="w"></span>
<span class="w">    </span><span class="s2">"cfd"</span><span class="w">       </span><span class="o">=&gt;</span><span class="w"> </span><span class="ni">color.blue</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="nx">plotColor</span><span class="p">)</span><span class="w"></span>
<span class="nx">printTable</span><span class="p">(</span><span class="nx">txt</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">var table </span><span class="nx">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">table.new</span><span class="p">(</span><span class="ni">position.middle_right</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="ni">table.cell</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">txt</span><span class="p">,</span><span class="w"> </span><span class="ni">bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.yellow</span><span class="p">)</span><span class="w"></span>
<span class="nx">printTable</span><span class="p">(</span><span class="ni">syminfo.type</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Plot colors can also be chosen through a script’s inputs. In this case, the <code class="docutils literal notranslate"><span class="pre">lineColorInput</span></code> variable is of form-type <strong>“input color”</strong>:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="k">color </span><span class="nx">lineColorInput</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ni">input</span><span class="p">(</span><span class="l">#1848CC</span><span class="p">,</span><span class="w"> </span><span class="s2">"Line color"</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="nx">lineColorInput</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Finally, plot colors can also be a <em>dynamic</em> value, i.e., a calculated value that is only known on each bar.
These are of form-type <strong>“series color”</strong>:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="nx">plotColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">close</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="no">open</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">color.lime</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.red</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="nx">plotColor</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>When plotting pivot levels, one common requirement is to avoid plotting level transitions.
Using <a class="reference internal" href="Lines_and_boxes.html#pagelinesandboxes"><span class="std std-ref">lines</span></a> is one alternative,
but you can also use <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> like this:</p>
<img alt="../_images/Plots-PlottingConditionally-02.png" src="../_images/Plots-PlottingConditionally-02.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"Pivot plots"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="nx">pivotHigh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">fixnan</span><span class="p">(</span><span class="ni">ta.pivothigh</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">pivotHigh</span><span class="p">,</span><span class="w"> </span><span class="s2">"High pivot"</span><span class="p">,</span><span class="w"> </span><span class="ni">ta.change</span><span class="p">(</span><span class="nx">pivotHigh</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="no">na</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.olive</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="ni">ta.change</span><span class="p">(</span><span class="nx">pivotHigh</span><span class="p">),</span><span class="w"> </span><span class="s2">"ta.change(pivotHigh)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"•"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.small</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>We use <code class="docutils literal notranslate"><span class="pre">pivotHigh</span> <span class="pre">=</span> <span class="pre">fixnan(ta.pivothigh(3,3))</span></code> to hold our pivot values.
Because <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta{dot}pivothigh">ta.pivothigh()</a>
only returns a value when a new pivot is found, we use <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_fixnan">fixnan()</a>
to fill the gaps with the last pivot value returned. The gaps here refer to the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta{dot}pivothigh">ta.pivothigh()</a> returns when no new pivot is found.</li>
<li>Our pivots are detected three bars after they occur because we use the argument <code class="docutils literal notranslate"><span class="pre">3</span></code> for both the <code class="docutils literal notranslate"><span class="pre">leftbars</span></code> and <code class="docutils literal notranslate"><span class="pre">rightbars</span></code> parameters in our
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta{dot}pivothigh">ta.pivothigh()</a> call.</li>
<li>The last plot is plotting a continuous value, but it is setting the plot’s color to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a>
when the pivot’s value changes, so the plot isn’t visible then. Because of this,
a visible plot will only appear on the bar following the one where we plotted using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> color.</li>
<li>The blue dot indicates when a new high pivot is detected and no plot is drawn between the preceding bar and that one.
Note how the pivot on the bar indicated by the arrow has just been detected in the realtime bar, three bars later,
and how no plot is drawn. The plot will only appear on the next bar, making the plot visible <strong>four bars</strong> after the actual pivot.</li>
</ul>
</div>
</div>
<div class="section" id="levels">
<span id="pageplots-levels"></span><h2><a class="toc-backref" href="#id6">Levels</a><a class="headerlink" href="#levels" title="Permalink to this headline">¶</a></h2>
<p>Pine Script™ has an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_hline">hline()</a>
function to plot horizontal lines (see the page on <a class="reference internal" href="Levels.html#pagelevels"><span class="std std-ref">Levels</span></a>).
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_hline">hline()</a>
is useful because it has some line styles unavailable with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>,
but it also has some limitations, namely that it does not accept “series color”,
and that its <code class="docutils literal notranslate"><span class="pre">price</span></code> parameter requires an “input int/float”, so cannot vary during the script’s execution.</p>
<p>You can plot levels with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
in a few different ways. This shows a <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502001">CCI</a>
indicator with levels plotted using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>:</p>
<img alt="../_images/Plots-Levels-01.png" src="../_images/Plots-Levels-01.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"CCI levels with `plot()`"</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">ta.cci</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="s2">"Zero"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.gray</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_circles</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">bar_index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w">  </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_linebr</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">bar_index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="mi">100</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">na</span><span class="p">,</span><span class="w"> </span><span class="s2">"-100"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.fuchsia</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ni">plot.style_linebr</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">  </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.green</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nx">trackprice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">true</span><span class="p">,</span><span class="w"> </span><span class="nx">show_last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">99999</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="s2">"-200"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.red</span><span class="p">,</span><span class="w">   </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nx">trackprice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">true</span><span class="p">,</span><span class="w"> </span><span class="nx">show_last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">99999</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">  </span><span class="s2">"300"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.green</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="s2">"-300"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.red</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">),</span><span class="w">   </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>The zero level is plotted using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_circles">plot.style_circles</a>.</li>
<li>The 100 levels are plotted using a conditional value that only plots every second bar.
In order to prevent the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_na">na</a> values
from being bridged, we use the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_plot{dot}style_linebr">plot.style_linebr</a> line style.</li>
<li>The 200 levels are plotted using <code class="docutils literal notranslate"><span class="pre">trackprice</span> <span class="pre">=</span> <span class="pre">true</span></code> to plot a distinct pattern of small squares that
extends the full width of the script’s visual space.
The <code class="docutils literal notranslate"><span class="pre">show_last</span> <span class="pre">=</span> <span class="pre">1</span></code> in there displays only the last plotted value, which would appear as a one-bar straight line if the next trick wasn’t also used:
the <code class="docutils literal notranslate"><span class="pre">offset</span> <span class="pre">=</span> <span class="pre">-99999</span></code> pushes that one-bar segment far away in the past so that it is never visible.</li>
<li>The 300 levels are plotted using a continuous line, but a lighter transparency is used to make them less prominent.</li>
</ul>
</div>
<div class="section" id="offsets">
<h2><a class="toc-backref" href="#id7">Offsets</a><a class="headerlink" href="#offsets" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">offset</span></code> parameter specifies the shift used when the line is plotted
(negative values shift in the past, positive values shift into the future.
For example:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nx">true</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.red</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<img alt="../_images/Plots-Offsets-01.png" src="../_images/Plots-Offsets-01.png"/>
<p>As can be seen in the screenshot, the <em>red</em> series has been shifted to the
left (since the argument’s value is negative), while the <em>green</em>
series has been shifted to the right (its value is positive).</p>
</div>
<div class="section" id="plot-count-limit">
<h2><a class="toc-backref" href="#id8">Plot count limit</a><a class="headerlink" href="#plot-count-limit" title="Permalink to this headline">¶</a></h2>
<p>Each script is limited to a maximum plot count of 64.
All <code class="docutils literal notranslate"><span class="pre">plot*()</span></code> calls and <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#func_alertcondition">alertcondition()</a> calls
count in the plot count of a script. Some types of calls count for more than one in the total plot count.</p>
<p><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a>
calls count for one in the total plot count if they use a “const color” argument for the <code class="docutils literal notranslate"><span class="pre">color</span></code> parameter,
which means it is known at compile time, e.g.:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.green</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>When they use another form, such as any one of these, they will count for two in the total plot count:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">syminfo.mintick</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="mf">.0001</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">color.green</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.red</span><span class="p">)</span><span class="w"> </span><span class="c">//🠆 "simple color"</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">input.color</span><span class="p">(</span><span class="ni">color.purple</span><span class="p">))</span><span class="w"> </span><span class="c">//🠆 "input color"</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="no">close</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="no">open</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="ni">color.green</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="ni">color.red</span><span class="p">)</span><span class="w"> </span><span class="c">//🠆 "series color"</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="k">color </span><span class="o">=</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.silver</span><span class="p">,</span><span class="w"> </span><span class="no">close</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="no">open</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="c">//🠆 "series color"</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="scale">
<h2><a class="toc-backref" href="#id9">Scale</a><a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h2>
<p>Not all values can be plotted everywhere.
Your script’s visual space is always bound by upper and lower limits that are dynamically adjusted with the values plotted.
An <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> indicator will plot values between 0 and 100,
which is why it is usually displayed in a distinct <em>pane</em> — or area — above or below the chart.
If <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> values were plotted as an overlay on the chart,
the effect would be to distort the symbol’s normal price scale,
unless it just hapenned to be close to <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a>’s 0 to 100 range.
This shows an <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> signal line and a centerline at the 50 level,
with the script running in a separate pane:</p>
<img alt="../_images/Plots-Scale-01.png" src="../_images/Plots-Scale-01.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"RSI"</span><span class="p">)</span><span class="w"></span>
<span class="nx">myRSI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>
<span class="nx">bullColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.from_gradient</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">),</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="nx">bearColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.from_gradient</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.red</span><span class="p">,</span><span class="w">   </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.red</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">))</span><span class="w"></span>
<span class="nx">myRSIColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myRSI</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">bullColor</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">bearColor</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="s2">"RSI"</span><span class="p">,</span><span class="w"> </span><span class="nx">myRSIColor</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that the <em>y</em> axis of our script’s visual space is automatically sized using the range of values plotted, i.e.,
the values of <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a>.
See the page on <a class="reference internal" href="Colors.html#pagecolors"><span class="std std-ref">Colors</span></a> for more information on the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_color{dot}from_gradient">color.from_gradient()</a> function used in the script.</p>
<p>If we try to plot the symbol’s
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_close">close</a>
values in the same space by adding the following line to our script:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="ni">plot</span><span class="p">(</span><span class="no">close</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>This is what happens:</p>
<img alt="../_images/Plots-Scale-02.png" src="../_images/Plots-Scale-02.png"/>
<p>The chart is on the BTCUSD symbol, whose <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_close">close</a>
prices are around 40000 during this period. Plotting values in the 40000 range makes our <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> plots in the 0 to 100 range indiscernible.
The same distorted plots would occur if we placed the <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> indicator on the chart as an overlay.</p>
<div class="section" id="merging-two-indicators">
<h3><a class="toc-backref" href="#id10">Merging two indicators</a><a class="headerlink" href="#merging-two-indicators" title="Permalink to this headline">¶</a></h3>
<p>If you are planning to merge two signals in one script, first consider the scale of each.
It is impossible, for example, to correctly plot an
<a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> and
a <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502344">MACD</a>
in the same script’s visual space because <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a>
has a fixed range (0 to 100) while <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502344">MACD</a> doesn’t, as it plots moving averages calculated on price.</p>
<p>If both your indicators used fixed ranges, you can shift the values of one of them so they do not overlap.
We could, for example, plot both <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a> (0 to 100)
and the <a class="reference external" href="https://www.tradingview.com/u/?solution=43000592290">True Strength Indicator (TSI)</a> (-100 to +100) by displacing one of them.
Our strategy here will be to compress and shift the <a class="reference external" href="https://www.tradingview.com/u/?solution=43000592290">TSI</a> values
so they plot over <a class="reference external" href="https://www.tradingview.com/u/?solution=43000502338">RSI</a>:</p>
<img alt="../_images/Plots-Scale-03.png" src="../_images/Plots-Scale-03.png"/>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"RSI and TSI"</span><span class="p">)</span><span class="w"></span>
<span class="nx">myRSI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>
<span class="nx">bullColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.from_gradient</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">),</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="nx">bearColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">color.from_gradient</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.red</span><span class="p">,</span><span class="w">   </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="ni">color.new</span><span class="p">(</span><span class="ni">color.red</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">))</span><span class="w"></span>
<span class="nx">myRSIColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myRSI</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">bullColor</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">bearColor</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">myRSI</span><span class="p">,</span><span class="w"> </span><span class="s2">"RSI"</span><span class="p">,</span><span class="w"> </span><span class="nx">myRSIColor</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"></span>

<span class="c">// 1. Compress TSI's range from -100/100 to -50/50.</span><span class="w"></span>
<span class="c">// 2. Shift it higher by 150, so its -50 min value becomes 100.</span><span class="w"></span>
<span class="nx">myTSI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">150</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="ni">ta.tsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">myTSI</span><span class="p">,</span><span class="w"> </span><span class="s2">"TSI"</span><span class="p">,</span><span class="w"> </span><span class="ni">color.blue</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="ni">ta.ema</span><span class="p">(</span><span class="nx">myTSI</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">),</span><span class="w"> </span><span class="s2">"TSI EMA"</span><span class="p">,</span><span class="w"> </span><span class="l">#FF006E</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul>
<li><p class="first">We have added levels using <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_hline">hline</a>
to situate both signals.</p>
</li>
<li><p class="first">In order for both signal lines to oscillate on the same range of 100,
we divide the <a class="reference external" href="https://www.tradingview.com/u/?solution=43000592290">TSI</a> value by 2 because it has a 200 range (-100 to +100).
We then shift this value up by 150 so it oscillates between 100 and 200, making 150 its centerline.</p>
</li>
<li><p class="first">The manipulations we make here are typical of the compromises required to bring two indicators
with different scales in the same visual space, even when their values, contrary to
<a class="reference external" href="https://www.tradingview.com/u/?solution=43000502344">MACD</a>, are bounded in a fixed range.</p>
<a class="reference external image-reference" href="https://www.tradingview.com/"><div align="center" class="align-center"><img alt="../_images/TradingView-Logo-Block.svg" src="../_images/TradingView-Logo-Block.svg" width="200px"/></div>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="footer-relations">
<div class="pull-left">
<a class="btn btn-default" href="Non-standard_charts_data.html" title="previous chapter (use the left arrow)">Non-standard charts data</a>
</div>
<div class="pull-right">
<a class="btn btn-default" href="Repainting.html" title="next chapter (use the right arrow)">Repainting</a>
</div>
</div>
<div class="clearer"></div>
</div>