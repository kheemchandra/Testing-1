<div id="right-column">
<div aria-label="breadcrumbs navigation" role="navigation">
<ol class="breadcrumb">
<li><a href="../index.html">User Manual</a></li>
<li><a href="index.html">Concepts</a></li>
<li>Alerts</li>
</ol>
</div>
<div class="document clearer body">
<a class="reference external image-reference" href="https://www.tradingview.com/pine-script-docs/en/v5/Introduction.html"><div align="right" class="align-right"><img alt="Pine Script™ logo" height="100" src="../_images/Pine_Script_logo.svg" width="100"/></div>
</a>
<div class="section" id="alerts">
<span id="pagealerts"></span><h1>Alerts<a class="headerlink" href="#alerts" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id5">Introduction</a><ul>
<li><a class="reference internal" href="#background" id="id6">Background</a></li>
<li><a class="reference internal" href="#which-type-of-alert-is-best" id="id7">Which type of alert is best?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#script-alerts" id="id8">Script alerts</a><ul>
<li><a class="reference internal" href="#alert-function-events" id="id9">`alert()` function events</a><ul>
<li><a class="reference internal" href="#using-all-alert-calls" id="id10">Using all `alert()` calls</a></li>
<li><a class="reference internal" href="#using-selective-alert-calls" id="id11">Using selective `alert()` calls</a></li>
<li><a class="reference internal" href="#in-strategies" id="id12">In strategies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#order-fill-events" id="id13">Order fill events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#alertcondition-events" id="id14">`alertcondition()` events</a><ul>
<li><a class="reference internal" href="#using-one-condition" id="id15">Using one condition</a></li>
<li><a class="reference internal" href="#using-compound-conditions" id="id16">Using compound conditions</a></li>
<li><a class="reference internal" href="#placeholders" id="id17">Placeholders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#avoiding-repainting-with-alerts" id="id18">Avoiding repainting with alerts</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id5">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>TradingView alerts run 24x7 on our servers and do not require users to be logged in to execute. Alerts are created from the charts user interface (<em>UI</em>).
You will find all the information necessary to understand how alerts work and how to create them from the charts UI in the
Help Center’s <a class="reference external" href="https://www.tradingview.com/?solution=43000520149">About TradingView alerts</a> page.</p>
<p>Some of the alert types available on TradingView (<em>generic alerts</em>, <em>drawing alerts</em> and <em>script alerts</em> on order fill events) are created from symbols or
scripts loaded on the chart and do not require specific coding. Any user can create these types of alerts from the charts UI.</p>
<p>Other types of alerts
(<em>script alerts</em> triggering on <em>alert() function calls</em>, and <em>alertcondition() alerts</em>)
require specific Pine Script™ code to be present in a script to create an <em>alert event</em> before script users can create alerts from them using the charts UI.
Additionally, while script users can create <em>script alerts</em> triggering on <em>order fill events</em> from the charts UI on any strategy loaded on their chart,
Pine Script™ programmers can specify explicit order fill alert messages in their script for each type of order filled by the broker emulator.</p>
<p>This page covers the different ways Pine Script™ programmers can code their scripts to create alert events
from which script users will in turn be able to create alerts from the charts UI.
We will cover:</p>
<ul class="simple">
<li>How to use the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function to <em>alert() function calls</em>
in indicators or strategies, which can then be included in <em>script alerts</em> created from the charts UI.</li>
<li>How to add custom alert messages to be included in <em>script alerts</em> triggering on the <em>order fill events</em> of strategies.</li>
<li>How to use the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function to generate,
in indicators only, <em>alertcondition() events</em> which can then be used to create <em>alertcondition() alerts</em> from the charts UI.</li>
</ul>
<p>Keep in mind that:</p>
<ul class="simple">
<li>No alert-related Pine Script™ code can create a running alert in the charts UI;
it merely creates alert events which can then be used by script users to create running alerts from the charts UI.</li>
<li>Alerts only trigger in the realtime bar. The operational scope of Pine Script™ code dealing with any type of alert is therefore restricted to realtime bars only.</li>
<li>When an alert is created in the charts UI, TradingView saves a mirror image of the script and its inputs, along with the chart’s main symbol and timeframe
to run the alert on its servers. Subsequent changes to your script’s inputs or the chart will thus not affect running alerts previously created from them.
If you want any changes to your context to be reflected in a running alert’s behavior,
you will need to delete the alert and create a new one in the new context.</li>
</ul>
<div class="section" id="background">
<h3><a class="toc-backref" href="#id6">Background</a><a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>The different methods Pine Script™ programmers can use today to create alert events in their script are the result of successive enhancements deployed throughout Pine Script™’s evolution.
The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function, which works in indicators only,
was the first feature allowing Pine Script™ programmers to create alert events.
Then came order fill alerts for strategies, which trigger when the broker emulator creates <em>order fill events</em>.
<em>Order fill events</em> require no special code for script users to create alerts on them,
but by way of the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter for order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> functions,
programmers can customize the message of alerts triggering on <em>order fill events</em> by defining a distinct alert message for any number of order fulfillment events.</p>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>
function is the most recent addition to Pine Script™. It more or less supersedes
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a>, and when used in strategies,
provides a useful complement to alerts on <em>order fill events</em>.</p>
</div>
<div class="section" id="which-type-of-alert-is-best">
<h3><a class="toc-backref" href="#id7">Which type of alert is best?</a><a class="headerlink" href="#which-type-of-alert-is-best" title="Permalink to this headline">¶</a></h3>
<p>For Pine Script™ programmers, the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function will generally be easier and more flexible to work with.
Contrary to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a>,
it allows for dynamic alert messages, works in both indicators and strategies and the programmer decides on the frequency of
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> events.</p>
<p>While <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls can be generated on any logic programmable in Pine Script™,
including when orders are <strong>sent</strong> to the broker emulator in strategies,
they cannot be coded to trigger when orders are <strong>executed</strong> (or <em>filled</em>) because after orders are sent to the broker emulator,
the emulator controls their execution and does not report fill events back to the script directly.</p>
<p>When a script user wants to generate an alert on a strategy’s order fill events,
he must include those events when creating a <em>script alert</em> on the strategy in the “Create Alert” dialog box.
No special code is required in scripts for users to be able to do this.
The message sent with order fill events can,
however, be customized by programmers through use of the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter in order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> function calls.
A combination of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls and the use of custom
<code class="docutils literal notranslate"><span class="pre">alert_message</span></code> arguments in order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> calls should allow Pine Script™ programmers to generate
alert events on most conditions occurring in their script’s execution.</p>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function remains in Pine Script™ for backward compatibility,
but it can also be used advantageously to generate distinct alerts available for selection as individual items in the “Create Alert” dialog box’s “Condition” field.</p>
</div>
</div>
<div class="section" id="script-alerts">
<h2><a class="toc-backref" href="#id8">Script alerts</a><a class="headerlink" href="#script-alerts" title="Permalink to this headline">¶</a></h2>
<p>When a script user creates a <em>script alert</em> using the “Create Alert” dialog box,
the events able to trigger the alert will vary depending on whether the alert is created from an indicator or a strategy.</p>
<p>A <em>script alert</em> created from an <strong>indicator</strong> will trigger when:</p>
<ul class="simple">
<li>The indicator contains <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls.</li>
<li>The code’s logic allows a specific <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call to execute.</li>
<li>The frequency specified in the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call allows the alert to trigger.</li>
</ul>
<p>A <em>script alert</em> created from a <strong>strategy</strong> can trigger on <em>alert() function calls</em>, on <em>order fill events</em>,
or both. The script user creating an alert on a strategy decides which type of events he wishes to include in his <em>script alert</em>.
While users can create a <em>script alert</em> on <em>order fill events</em> without the need for a strategy to include special code,
it must contain <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls for users to include
<em>alert() function calls</em> in their <em>script alert</em>.</p>
<div class="section" id="alert-function-events">
<h3><a class="toc-backref" href="#id9">`alert()` function events</a><a class="headerlink" href="#alert-function-events" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function has the following signature:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>alert(message, freq)
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">message</span></code></dt>
<dd>A “series string” representing the message text sent when the alert triggers.
Because this argument allows the “series” form, it can be generated at runtime and differ bar to bar, making it dynamic.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">freq</span></code></dt>
<dd><p class="first">An “input string” specifying the triggering frequency of the alert. Valid arguments are:</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar</span></code>: Only the first call per realtime bar triggers the alert (default value).</li>
<li><code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar_close</span></code>: An alert is only triggered when the realtime bar closes and an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call is executed during that script iteration.</li>
<li><code class="docutils literal notranslate"><span class="pre">alert.freq_all</span></code>: All calls during the realtime bar trigger the alert.</li>
</ul>
</dd>
</dl>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function can be used in both indicators and strategies.
For an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>
call to trigger a <em>script alert</em> configured on <em>alert() function calls</em>,
the script’s logic must allow the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call to execute,
<strong>and</strong> the frequency determined by the <code class="docutils literal notranslate"><span class="pre">freq</span></code> parameter must allow the alert to trigger.</p>
<p>Note that by default, strategies are recalculated at the bar’s close, so if the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>
function with the frequency <code class="docutils literal notranslate"><span class="pre">alert.freq_all</span></code> or <code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar</span></code> is used in a strategy,
then it will be called no more often than once at the bar’s close.
In order to enable the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>
function to be called during the bar construction process, you need to enable the <code class="docutils literal notranslate"><span class="pre">calc_on_every_tick</span></code> option.</p>
<div class="section" id="using-all-alert-calls">
<h4><a class="toc-backref" href="#id10">Using all `alert()` calls</a><a class="headerlink" href="#using-all-alert-calls" title="Permalink to this headline">¶</a></h4>
<p>Let’s look at an example where we detect crosses of the RSI centerline:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"All `alert()` calls"</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>

<span class="c">// Detect crosses.</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Trigger an alert on crosses.</span><span class="w"></span>
<span class="k">if </span><span class="nx">xUp</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"Go long (RSI is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"#.00)"</span><span class="p">))</span><span class="w"></span>
<span class="k">else if </span><span class="nx">xDn</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"Go short (RSI is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"#.00)"</span><span class="p">))</span><span class="w"></span>

<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>If a <em>script alert</em> is created from this script:</p>
<ul class="simple">
<li>When RSI crosses the centerline up, the <em>script alert</em> will trigger with the “Go long…” message.
When RSI crosses the centerline down, the <em>script alert</em> will trigger with the “Go short…” message.</li>
<li>Because no argument is specified for the <code class="docutils literal notranslate"><span class="pre">freq</span></code> parameter in the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call,
the default value of <code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar</span></code> will be used, so the alert will only trigger the first time each of the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls is executed during the realtime bar.</li>
<li>The message sent with the alert is composed of two parts: a constant string and then the result of the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_str{dot}tostring">str.tostring()</a> call which will include the value of RSI at the moment where the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call is executed by the script. An alert message for a cross up would look like:
“Go long (RSI is 53.41)”.</li>
<li>Because a <em>script alert</em> always triggers on any occurrence of a call to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>,
as long as the frequency used in the call allows for it, this particular script does not allow a script user to restrict his <em>script alert</em> to longs only, for example.</li>
</ul>
<p>Note that:</p>
<ul class="simple">
<li>Contrary to an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> call which is always placed at column 0
(in the script’s global scope), the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call is placed
in the local scope of an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#op_if">if</a> branch so it only executes when our triggering condition is met.
If an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call was placed in the script’s global scope at column 0,
it would execute on all bars, which would likely not be the desired behavior.</li>
<li>An <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a>
could not accept the same string we use for our alert’s message because of its use of the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_str{dot}tostring">str.tostring()</a> call.
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> messages must be constant strings.</li>
</ul>
<p>Lastly, because <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> messages can be constructed dynamically at runtime,
we could have used the following code to generate our alert events:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">// Trigger an alert on crosses.</span><span class="w"></span>
<span class="k">if </span><span class="nx">xUp</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">xDn</span><span class="w"></span>
<span class="w">    </span><span class="nx">firstPart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">xUp</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">"Go long"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"Go short"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" (RSI is "</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="nx">firstPart</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"#.00)"</span><span class="p">))</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="using-selective-alert-calls">
<h4><a class="toc-backref" href="#id11">Using selective `alert()` calls</a><a class="headerlink" href="#using-selective-alert-calls" title="Permalink to this headline">¶</a></h4>
<p>When users create a <em>script alert</em> on <em>alert() function calls</em>, the alert will trigger on any call the script makes to the
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function, provided its frequency constraints are met.
If you want to allow your script’s users to select which <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function call
in your script will trigger a <em>script alert</em>, you will need to provide them with the means to indicate their preference in your script’s inputs,
and code the appropriate logic in your script. This way, script users will be able to create multiple <em>script alerts</em> from a single script,
each behaving differently as per the choices made in the script’s inputs prior to creating the alert in the charts UI.</p>
<p>Suppose, for our next example, that we want to provide the option of triggering alerts on only longs, only shorts, or both.
You could code your script like this:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"Selective `alert()` calls"</span><span class="p">)</span><span class="w"></span>
<span class="nx">detectLongsInput</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ni">input.bool</span><span class="p">(</span><span class="nx">true</span><span class="p">,</span><span class="w">  </span><span class="s2">"Detect Longs"</span><span class="p">)</span><span class="w"></span>
<span class="nx">detectShortsInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">input.bool</span><span class="p">(</span><span class="nx">true</span><span class="p">,</span><span class="w">  </span><span class="s2">"Detect Shorts"</span><span class="p">)</span><span class="w"></span>
<span class="nx">repaintInput</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="ni">input.bool</span><span class="p">(</span><span class="nx">false</span><span class="p">,</span><span class="w"> </span><span class="s2">"Allow Repainting"</span><span class="p">)</span><span class="w"></span>

<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>
<span class="c">// Detect crosses.</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Only generate entries when the trade's direction is allowed in inputs.</span><span class="w"></span>
<span class="nx">enterLong</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">detectLongsInput</span><span class="w">  </span><span class="nx">and</span><span class="w"> </span><span class="nx">xUp</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="p">(</span><span class="nx">repaintInput</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="ni">barstate.isconfirmed</span><span class="p">)</span><span class="w"></span>
<span class="nx">enterShort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">detectShortsInput</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">xDn</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="p">(</span><span class="nx">repaintInput</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="ni">barstate.isconfirmed</span><span class="p">)</span><span class="w"></span>
<span class="c">// Trigger the alerts only when the compound condition is met.</span><span class="w"></span>
<span class="k">if </span><span class="nx">enterLong</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"Go long (RSI is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"#.00)"</span><span class="p">))</span><span class="w"></span>
<span class="k">else if </span><span class="nx">enterShort</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"Go short (RSI is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"#.00)"</span><span class="p">))</span><span class="w"></span>

<span class="ni">plotchar</span><span class="p">(</span><span class="nx">enterLong</span><span class="p">,</span><span class="w">  </span><span class="s2">"Go Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">enterShort</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note how:</p>
<ul class="simple">
<li>We create a compound condition that is met only when the user’s selection allows for an entry in that direction.
A long entry on a crossover of the centerline only triggers the alert when long entries have been enabled in the script’s Inputs.</li>
<li>We offer the user to indicate his repainting preference. When he does not allow the calculations to repaint,
we wait until the bar’s confirmation to trigger the compound condition. This way, the alert and the marker only appear at the end of the realtime bar.</li>
<li>If a user of this script wanted to create two distinct script alerts from this script, i.e., one triggering only on longs, and one only on shorts, then he would need to:<ul>
<li>Select only “Detect Longs” in the inputs and create a first <em>script alert</em> on the script.</li>
<li>Select only “Detect Shorts” in the Inputs and create another <em>script alert</em> on the script.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="in-strategies">
<h4><a class="toc-backref" href="#id12">In strategies</a><a class="headerlink" href="#in-strategies" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a>
function calls can be used in strategies also, with the provision that strategies, by default,
only execute on the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_close">close</a> of realtime bars.
Unless <code class="docutils literal notranslate"><span class="pre">calc_on_every_tick</span> <span class="pre">=</span> <span class="pre">true</span></code> is used in the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy">strategy()</a>
declaration statement, all <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls
will use the <code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar_close</span></code> frequency, regardless of the argument used for <code class="docutils literal notranslate"><span class="pre">freq</span></code>.</p>
<p>While <em>script alerts</em> on strategies will use <em>order fill events</em> to trigger alerts when the broker emulator fills orders,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> can be used advantageously to generate other alert events in strategies.</p>
<p>This strategy creates <em>alert() function calls</em> when RSI moves against the trade for three consecutive bars:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">strategy</span><span class="p">(</span><span class="s2">"Strategy with selective `alert()` calls"</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>

<span class="c">// Detect crosses.</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Place orders on crosses.</span><span class="w"></span>
<span class="k">if </span><span class="nx">xUp</span><span class="w"></span>
<span class="w">    </span><span class="ni">strategy.entry</span><span class="p">(</span><span class="s2">"Long"</span><span class="p">,</span><span class="w"> </span><span class="ni">strategy.long</span><span class="p">)</span><span class="w"></span>
<span class="k">else if </span><span class="nx">xDn</span><span class="w"></span>
<span class="w">    </span><span class="ni">strategy.entry</span><span class="p">(</span><span class="s2">"Short"</span><span class="p">,</span><span class="w"> </span><span class="ni">strategy.short</span><span class="p">)</span><span class="w"></span>

<span class="c">// Trigger an alert when RSI diverges from our trade's direction.</span><span class="w"></span>
<span class="nx">divInLongTrade</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ni">strategy.position_size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="ni">ta.falling</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="nx">divInShortTrade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">strategy.position_size</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="ni">ta.rising</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="k">if </span><span class="nx">divInLongTrade</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"WARNING: Falling RSI"</span><span class="p">,</span><span class="w"> </span><span class="ni">alert.freq_once_per_bar_close</span><span class="p">)</span><span class="w"></span>
<span class="k">if </span><span class="nx">divInShortTrade</span><span class="w"></span>
<span class="w">    </span><span class="ni">alert</span><span class="p">(</span><span class="s2">"WARNING: Rising RSI"</span><span class="p">,</span><span class="w"> </span><span class="ni">alert.freq_once_per_bar_close</span><span class="p">)</span><span class="w"></span>

<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">divInLongTrade</span><span class="p">,</span><span class="w">  </span><span class="s2">"WARNING: Falling RSI"</span><span class="p">,</span><span class="w"> </span><span class="s2">"•"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">divInShortTrade</span><span class="p">,</span><span class="w"> </span><span class="s2">"WARNING: Rising RSI"</span><span class="p">,</span><span class="w">  </span><span class="s2">"•"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>If a user created a <em>script alert</em> from this strategy and included both <em>order fill events</em> and <em>alert() function calls</em> in his alert,
the alert would trigger whenever an order is executed,
or when one of the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls
was executed by the script on the realtime bar’s closing iteration, i.e., when
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate{dot}isrealtime">barstate.isrealtime</a> and
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate{dot}isconfirmed">barstate.isconfirmed</a> are both true.
The <em>alert() function events</em> in the script would only trigger the alert when the realtime bar closes because <code class="docutils literal notranslate"><span class="pre">alert.freq_once_per_bar_close</span></code>
is the argument used for the <code class="docutils literal notranslate"><span class="pre">freq</span></code> parameter in the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> calls.</p>
</div>
</div>
<div class="section" id="order-fill-events">
<h3><a class="toc-backref" href="#id13">Order fill events</a><a class="headerlink" href="#order-fill-events" title="Permalink to this headline">¶</a></h3>
<p>When a <em>script alert</em> is created from an indicator, it can only trigger on <em>alert() function calls</em>.
However, when a <em>script alert</em> is created from a strategy, the user can specify that <em>order fill events</em> also trigger the <em>script alert</em>.
An <em>order fill event</em> is any event generated by the broker emulator which causes a simulated order to be executed.
It is the equivalent of a trade order being filled by a broker/exchange. Orders are not necessarily executed when they are placed.
In a strategy, the execution of orders can only be detected indirectly and after the fact, by analyzing changes in built-in variables such as
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy{dot}opentrades">strategy.opentrades</a> or
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy{dot}position_size">strategy.position_size</a>.
<em>Script alerts</em> configured on <em>order fill events</em> are thus useful in that they allow the triggering of alerts at the precise moment of an order’s execution,
before a script’s logic can detect it.</p>
<p>Pine Script™ programmers can customize the alert message sent when specific orders are executed. While this is not a pre-requisite for <em>order fill events</em> to trigger,
custom alert messages can be useful because they allow custom syntax to be included with alerts in order to route actual orders to a third-party execution engine, for example.
Specifying custom alert messages for specific <em>order fill events</em> is done by means of the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter in functions which can generate orders:
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}close">strategy.close()</a>,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}entry">strategy.entry()</a>,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}exit">strategy.exit()</a> and
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}order">strategy.order()</a>.</p>
<p>The argument used for the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter is a “series string”, so it can be constructed dynamically using any variable available to the script,
as long as it is converted to string format.</p>
<p>Let’s look at a strategy where we use the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter in both our
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}entry">strategy.entry()</a> calls:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">strategy</span><span class="p">(</span><span class="s2">"Strategy using `alert_message`"</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>

<span class="c">// Detect crosses.</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Place order on crosses using a custom alert message for each.</span><span class="w"></span>
<span class="k">if </span><span class="nx">xUp</span><span class="w"></span>
<span class="w">    </span><span class="ni">strategy.entry</span><span class="p">(</span><span class="s2">"Long"</span><span class="p">,</span><span class="w"> </span><span class="ni">strategy.long</span><span class="p">,</span><span class="w"> </span><span class="nx">stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">high</span><span class="p">,</span><span class="w"> </span><span class="nx">alert_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Stop-buy executed (stop was "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="no">high</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">")"</span><span class="p">)</span><span class="w"></span>
<span class="k">else if </span><span class="nx">xDn</span><span class="w"></span>
<span class="w">    </span><span class="ni">strategy.entry</span><span class="p">(</span><span class="s2">"Short"</span><span class="p">,</span><span class="w"> </span><span class="ni">strategy.short</span><span class="p">,</span><span class="w"> </span><span class="nx">stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">low</span><span class="p">,</span><span class="w"> </span><span class="nx">alert_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Stop-sell executed (stop was "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ni">str.tostring</span><span class="p">(</span><span class="no">low</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">")"</span><span class="p">)</span><span class="w"></span>

<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>We use the <code class="docutils literal notranslate"><span class="pre">stop</span></code> parameter in our <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy{dot}entry">strategy.entry()</a> calls,
which creates stop-buy and stop-sell orders. This entails that buy orders will only execute once price is higher than the <cite>high</cite> on the bar where the order is placed,
and sell orders will only execute once price is lower than the <cite>low</cite> on the bar where the order is placed.</li>
<li>The up/down arrows which we plot with <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar">plotchar()</a> are plotted when orders are <strong>placed</strong>.
Any number of bars may elapse before the order is actually executed, and in some cases the order will never be executed because price does not meet
the required condition.</li>
<li>Because we use the same <code class="docutils literal notranslate"><span class="pre">id</span></code> argument for all buy orders, any new buy order placed before a previous order’s condition is met will replace that order.
The same applies to sell orders.</li>
<li>Variables included in the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> argument are evaluated when the order is executed, so when the alert triggers.</li>
</ul>
<p>When the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter is used in a strategy’s order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> function calls,
script users must include the <code class="docutils literal notranslate"><span class="pre">{{strategy.order.alert_message}}</span></code> placeholder in the “Create Alert” dialog box’s “Message” field
when creating <em>script alerts</em> on <em>order fill events</em>. This is required so the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> argument used in the order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> function calls
is used in the message of alerts triggering on each <em>order fill event</em>. When only using the <code class="docutils literal notranslate"><span class="pre">{{strategy.order.alert_message}}</span></code> placeholder in the “Message” field and the
<code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter is present in only some of the order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> function calls in your strategy,
an empty string will replace the placeholder in the message of alerts triggered by any order-generating <code class="docutils literal notranslate"><span class="pre">strategy.*()</span></code> function call not using the <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> parameter.</p>
<p>While other placeholders can be used in the “Create Alert” dialog box’s “Message” field by users creating alerts on <em>order fill events</em>,
they cannot be used in the argument of <code class="docutils literal notranslate"><span class="pre">alert_message</span></code>.</p>
</div>
</div>
<div class="section" id="alertcondition-events">
<h2><a class="toc-backref" href="#id14">`alertcondition()` events</a><a class="headerlink" href="#alertcondition-events" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function
allows programmers to create individual <em>alertcondition events</em> in Pine Script™ indicators.
One indicator may contain more than one <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> call.
Each call to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a>
in a script will create a corresponding alert selectable in the “Condition” dropdown menu of the “Create Alert” dialog box.</p>
<p>While the presence of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls
in a Pine Script™ <strong>strategy</strong> script will not cause a compilation error, alerts cannot be created from them.</p>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function has the following signature:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>alertcondition(condition, title, message)
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">condition</span></code></dt>
<dd>A “series bool” value (<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>) which determines when the alert will trigger. It is a required argument.
When the value is <code class="docutils literal notranslate"><span class="pre">true</span></code> the alert will trigger. When the value is <code class="docutils literal notranslate"><span class="pre">false</span></code> the alert will not trigger.
Contrary to <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> function calls,
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls
must start at column zero of a line, so cannot be placed in conditional blocks.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">title</span></code></dt>
<dd>A “const string” optional argument that sets the name of the alert condition as it will appear in the “Create Alert” dialog box’s “Condition” field in the charts UI.
If no argument is supplied, “Alert” will be used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">message</span></code></dt>
<dd>A “const string” optional argument that specifies the text message to display when the alert triggers.
The text will appear in the “Message” field of the “Create Alert” dialog box, from where script users can then modify it when creating an alert.
<strong>As this argument must be a “const string”, it must be known at compilation time and thus cannot vary bar to bar.</strong>
It can, however, contain placeholders which will be replaced at runtime by dynamic values that may change bar to bar. See this page’s <a class="reference internal" href="#placeholders">Placeholders</a> section for a list.</dd>
</dl>
<p>The <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> function does not include a
<code class="docutils literal notranslate"><span class="pre">freq</span></code> parameter. The frequency of <em>alertcondition() alerts</em> is determined by users in the “Create Alert” dialog box.</p>
<div class="section" id="using-one-condition">
<h3><a class="toc-backref" href="#id15">Using one condition</a><a class="headerlink" href="#using-one-condition" title="Permalink to this headline">¶</a></h3>
<p>Here is an example of code creating <em>alertcondition() events</em>:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"`alertcondition()` on single condition"</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>

<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>

<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"RSI"</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>

<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Long Alert"</span><span class="p">,</span><span class="w">  </span><span class="s2">"Go long"</span><span class="p">)</span><span class="w"></span>
<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Short Alert"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go short "</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Because we have two <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls in our script,
two different alerts will be available in the “Create Alert” dialog box’s “Condition” field: “Long Alert” and “Short Alert”.</p>
<p>If we wanted to include the value of RSI when the cross occurs, we could not simply add its value to the <code class="docutils literal notranslate"><span class="pre">message</span></code> string using <code class="docutils literal notranslate"><span class="pre">str.tostring(r)</span></code>,
as we could in an <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert">alert()</a> call or in an <code class="docutils literal notranslate"><span class="pre">alert_message</span></code> argument in a strategy.
We can, however, include it using a placeholder. This shows two alternatives:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"Long Alert"</span><span class="p">,</span><span class="w">  </span><span class="s2">"Go long. RSI is {{plot_0}}"</span><span class="p">)</span><span class="w"></span>
<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xDn</span><span class="p">,</span><span class="w"> </span><span class="s2">"Short Alert"</span><span class="p">,</span><span class="w"> </span><span class="s1">'Go short. RSI is {{plot("RSI")}}'</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li>The first line uses the <code class="docutils literal notranslate"><span class="pre">{{plot_0}}</span></code> placeholder, where the plot number corresponds to the order of the plot in the script.</li>
<li>The second line uses the <code class="docutils literal notranslate"><span class="pre">{{plot("[plot_title]")}}</span></code> type of placeholder,
which must include the <code class="docutils literal notranslate"><span class="pre">title</span></code> of the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call used in our script to plot RSI.
Double quotes are used to wrap the plot’s title inside the <code class="docutils literal notranslate"><span class="pre">{{plot("RSI")}}</span></code> placeholder. This requires that we use single quotes to wrap the <code class="docutils literal notranslate"><span class="pre">message</span></code> string.</li>
<li>Using one of these methods, we can include any numeric value that is plotted by our indicator, but as strings cannot be plotted, no string variable can be used.</li>
</ul>
</div>
<div class="section" id="using-compound-conditions">
<h3><a class="toc-backref" href="#id16">Using compound conditions</a><a class="headerlink" href="#using-compound-conditions" title="Permalink to this headline">¶</a></h3>
<p>If we want to offer script users the possiblity of creating a single alert from an indicator using multiple
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls,
we will need to provide options in the script’s inputs through which users will indicate the conditions they want to trigger their alert before creating it.</p>
<p>This script demonstrates one way to do it:</p>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">"`alertcondition()` on multiple conditions"</span><span class="p">)</span><span class="w"></span>
<span class="nx">detectLongsInput</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ni">input.bool</span><span class="p">(</span><span class="nx">true</span><span class="p">,</span><span class="w"> </span><span class="s2">"Detect Longs"</span><span class="p">)</span><span class="w"></span>
<span class="nx">detectShortsInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">input.bool</span><span class="p">(</span><span class="nx">true</span><span class="p">,</span><span class="w"> </span><span class="s2">"Detect Shorts"</span><span class="p">)</span><span class="w"></span>

<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"></span>
<span class="c">// Detect crosses.</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="nx">xDn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossunder</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Only generate entries when the trade's direction is allowed in inputs.</span><span class="w"></span>
<span class="nx">enterLong</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">detectLongsInput</span><span class="w">  </span><span class="nx">and</span><span class="w"> </span><span class="nx">xUp</span><span class="w"></span>
<span class="nx">enterShort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">detectShortsInput</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">xDn</span><span class="w"></span>

<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">enterLong</span><span class="p">,</span><span class="w">  </span><span class="s2">"Go Long"</span><span class="p">,</span><span class="w">  </span><span class="s2">"▲"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.bottom</span><span class="p">,</span><span class="w"> </span><span class="ni">color.lime</span><span class="p">,</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">plotchar</span><span class="p">(</span><span class="nx">enterShort</span><span class="p">,</span><span class="w"> </span><span class="s2">"Go Short"</span><span class="p">,</span><span class="w"> </span><span class="s2">"▼"</span><span class="p">,</span><span class="w"> </span><span class="ni">location.top</span><span class="p">,</span><span class="w">    </span><span class="ni">color.red</span><span class="p">,</span><span class="w">  </span><span class="nx">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">size.tiny</span><span class="p">)</span><span class="w"></span>
<span class="ni">hline</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="c">// Trigger the alert when one of the conditions is met.</span><span class="w"></span>
<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">enterLong</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">enterShort</span><span class="p">,</span><span class="w"> </span><span class="s2">"Compound alert"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Entry"</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Note how the <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> call is allowed to trigger on one of two conditions.
Each condition can only trigger the alert if the user enables it in the script’s inputs before creating the alert.</p>
</div>
<div class="section" id="placeholders">
<h3><a class="toc-backref" href="#id17">Placeholders</a><a class="headerlink" href="#placeholders" title="Permalink to this headline">¶</a></h3>
<p>These placeholders can be used in the <code class="docutils literal notranslate"><span class="pre">message</span></code> argument of <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> calls.
They will be replaced with dynamic values when the alert triggers. They are the only way to include dynamic values (values that can vary bar to bar) in
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition">alertcondition()</a> messages.</p>
<p>Note that users creating <em>alertcondition() alerts</em> from the “Create Alert” dialog box in the charts UI are also able to use these placeholders in the dialog box’s “Message” field.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">{{exchange}}</span></code></dt>
<dd>Exchange of the symbol used in the alert (NASDAQ, NYSE, MOEX, etc.). Note that for delayed symbols, the exchange will end with “_DL” or “_DLY.” For example, “NYMEX_DL.”</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{interval}}</span></code></dt>
<dd>Returns the timeframe of the chart the alert is created on.
Note that Range charts are calculated based on 1m data, so the placeholder will always return “1” on any alert created on a Range chart.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{open}}</span></code>, <code class="docutils literal notranslate"><span class="pre">{{high}}</span></code>, <code class="docutils literal notranslate"><span class="pre">{{low}}</span></code>, <code class="docutils literal notranslate"><span class="pre">{{close}}</span></code>, <code class="docutils literal notranslate"><span class="pre">{{volume}}</span></code></dt>
<dd>Corresponding values of the bar on which the alert has been triggered.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{plot_0}}</span></code>, <code class="docutils literal notranslate"><span class="pre">{{plot_1}}</span></code>, […], <code class="docutils literal notranslate"><span class="pre">{{plot_19}}</span></code></dt>
<dd>Value of the corresponding plot number. Plots are numbered from zero to 19 in order of appearance in the script, so only one of the first 20 plots can be used.
For example, the built-in “Volume” indicator has two output series: Volume and Volume MA, so you could use the following:</dd>
</dl>
<div class="highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="ni">alertcondition</span><span class="p">(</span><span class="no">volume</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">sma</span><span class="p">(</span><span class="no">volume</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="s2">"Volume alert"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Volume ({{plot_0}}) &gt; average ({{plot_1}})"</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">{{plot("[plot_title]")}}</span></code></dt>
<dd><p class="first">This placeholder can be used when one needs to refer to a plot using the <code class="docutils literal notranslate"><span class="pre">title</span></code> argument used in a
<a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot">plot()</a> call.
Note that double quotation marks (<code class="docutils literal notranslate"><span class="pre">"</span></code>) <strong>must</strong> be used inside the placeholder to wrap the <code class="docutils literal notranslate"><span class="pre">title</span></code> argument.
This requires that a single quotation mark (<code class="docutils literal notranslate"><span class="pre">'</span></code>) be used to wrap the <code class="docutils literal notranslate"><span class="pre">message</span></code> string:</p>
<div class="last highlight-pine notranslate"><div class="highlight"><pre><span></span><span class="c">//@version=5</span><span class="w"></span>
<span class="ni">indicator</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span><span class="w"></span>
<span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.rsi</span><span class="p">(</span><span class="no">close</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span><span class="w"></span>
<span class="nx">xUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">ta.crossover</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"></span>
<span class="ni">plot</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="s2">"RSI"</span><span class="p">,</span><span class="w"> </span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">display.none</span><span class="p">)</span><span class="w"></span>
<span class="ni">alertcondition</span><span class="p">(</span><span class="nx">xUp</span><span class="p">,</span><span class="w"> </span><span class="s2">"xUp alert"</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'RSI is bullish at: {{plot("RSI")}}'</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{ticker}}</span></code></dt>
<dd>Ticker of the symbol used in the alert (AAPL, BTCUSD, etc.).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{time}}</span></code></dt>
<dd>Returns the time at the beginning of the bar. Time is UTC, formatted as <code class="docutils literal notranslate"><span class="pre">yyyy-MM-ddTHH:mm:ssZ</span></code>, so for example: <code class="docutils literal notranslate"><span class="pre">2019-08-27T09:56:00Z</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{{timenow}}</span></code></dt>
<dd>Current time when the alert triggers, formatted in the same way as <code class="docutils literal notranslate"><span class="pre">{{time}}</span></code>. The precision is to the nearest second, regardless of the chart’s timeframe.</dd>
</dl>
</div>
</div>
<div class="section" id="avoiding-repainting-with-alerts">
<h2><a class="toc-backref" href="#id18">Avoiding repainting with alerts</a><a class="headerlink" href="#avoiding-repainting-with-alerts" title="Permalink to this headline">¶</a></h2>
<p>The most common instances of repainting traders want to avoid with alerts are ones where they must prevent an alert from triggering at some point during the realtime bar when it would <strong>not</strong> have triggered at its close. This can happen when these conditions are met:</p>
<ul class="simple">
<li>The calculations used in the condition triggering the alert can vary during the realtime bar.
This will be the case with any calculation using <code class="docutils literal notranslate"><span class="pre">high</span></code>, <code class="docutils literal notranslate"><span class="pre">low</span></code> or <code class="docutils literal notranslate"><span class="pre">close</span></code>, for example, which includes almost all built-in indicators.
It will also be the case with the result of any <a class="reference external" href="https://www.tradingview.com/pine-script-reference/v5/#fun_request{dot}security">request.security()</a> call using
a higher timeframe than the chart’s, when the higher timeframe’s current bar has not closed yet.</li>
<li>The alert can trigger before the close of the realtime bar, so with any frequency other than “Once Per Bar Close”.</li>
</ul>
<p>The simplest way to avoid this type of repainting is to configure the triggering frequency of alerts so they only trigger on the close of the realtime bar.
There is no panacea; avoiding this type of repainting <strong>always</strong> entails waiting for confirmed information, which means the trader must sacrifice immediacy to achieve reliability.</p>
<p>Note that other types of repainting such as those documented in our <a class="reference internal" href="Repainting.html#pagerepainting"><span class="std std-ref">Repainting</span></a> section may not be preventable by simply triggering alerts on the close of realtime bars.</p>
<a class="reference external image-reference" href="https://www.tradingview.com/"><div align="center" class="align-center"><img alt="../_images/TradingView-Logo-Block.svg" src="../_images/TradingView-Logo-Block.svg" width="200px"/></div>
</a>
</div>
</div>
</div>
<div class="footer-relations">
<div class="pull-left">
<a class="btn btn-default" href="index.html" title="previous chapter (use the left arrow)">Concepts</a>
</div>
<div class="pull-right">
<a class="btn btn-default" href="Backgrounds.html" title="next chapter (use the right arrow)">Backgrounds</a>
</div>
</div>
<div class="clearer"></div>
</div>